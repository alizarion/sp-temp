/*!
 * Copyright 2015 itesoft.
 * http://itesoft.com/
 *
 * Angular-common, v1.0.0
 *Itesoft common Angularjs libs.*/
!function(){var e=angular.module("itesoft",["ngSanitize","ui.bootstrap.tabs","ui.bootstrap.modal","ui.bootstrap.tpls","ngAnimate","matchMedia","ui.grid","ngRoute","pascalprecht.translate","ui.grid.selection","ui.grid.autoResize","ui.grid.resizeColumns","ui.grid.moveColumns"]);e.config(["$compileProvider",function(e){e.directive("itCompile",["$compile",function(e){return function(t,n,i){t.$watch(function(e){return e.$eval(i.itCompile)},function(i){n.html(i),e(n.contents())(t)})}}])}]),e.directive("itModalFullScreen",["$timeout","$window","$document",function(e,t,n){function i(){for(var e=document.getElementsByTagName("*"),n=0,i=0;i<e.length-1;i++){var r=t.getComputedStyle(e[i]),a=parseInt(r["z-index"]);(isNaN(a)?0:a)>n&&(n=a)}return n}var r='<div class="it-modal-full-screen" ng-class="$isModalOpen? $onOpenCss : \'\'"><div  ng-if="$isModalOpen"  class="it-modal-full-screen-button "><button class="btn pull-right" ng-click="$closeModal()"><div class="it-animated-ciruclar-button"><i class="fa fa-compress"></i></div></button></div><div  ng-if="!$isModalOpen"  class="it-modal-full-screen-button "> <button class="btn pull-right"  ng-click="$openModal()"><div class="it-animated-ciruclar-button"><i class="fa fa-expand"></i></div></button> </div><div  class="it-modal-full-screen-content it-fill"  ng-transclude> </div></div>';return{restrict:"EA",transclude:!0,scope:!1,template:r,link:function(r,a,l,o){var s=isNaN(parseInt(l.itZIndex))?null:parseInt(l.itZIndex);r.$onOpenCss=l.itOpenClass?l.itOpenClass:"it-modal-background";var c=isNaN(parseInt(l.itEscapeKey))?27:parseInt(l.itEscapeKey),d=angular.element(a[0].querySelector(".it-modal-full-screen")),u=angular.element(d[0]);r.$openModal=function(){r.$isModalOpen=!0;var n=document.getElementsByTagName("html"),a=t.getComputedStyle(n[0]),l=parseInt(a.top),o=parseInt(a["margin-top"]),c=parseInt(a["padding-top"]),d=(isNaN(parseInt(l))?0:parseInt(l))+(isNaN(parseInt(o))?0:parseInt(o))+(isNaN(parseInt(c))?0:parseInt(c));u.addClass("it-opened"),u.css("top",d+"px"),null!==s?u.css("z-index",s):u.css("z-index",i()+100),e(function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),t.dispatchEvent(e)},300)},r.$closeModal=function(){r.$isModalOpen=!1,r.$applyAsync(function(){u.removeAttr("style"),u.removeClass("it-opened"),e(function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),t.dispatchEvent(e)},300)})},n.on("keyup",function(e){e&&e.keyCode==c&&r.$closeModal()})}}}]),e.directive("itBusyIndicator",["$timeout","$http",function(e,t){function n(n,r,a){n.$watch(function(){return t.pendingRequests.length>0},function(t){i&&e.cancel(i),t===!0?i=e(function(){n.hasPendingRequests=!0},250):n.hasPendingRequests=!1})}var i;return{link:n,restrict:"AE",transclude:!0,scope:{isBusy:"="},template:'<div class="mask-loading-container" ng-show="hasPendingRequests"></div><div class="main-loading-container" ng-show="hasPendingRequests || isBusy"><i class="fa fa-circle-o-notch fa-spin fa-4x text-primary "></i></div><ng-transclude ng-show="!isBusy"></ng-transclude>'}}]),e.directive("itLoader",["$http","$rootScope",function(e,t){return{restrict:"EA",scope:!0,template:'<span class="fa-stack"><i class="fa fa-refresh fa-stack-1x" ng-class="{\'fa-spin\':$isLoading}"></i></span>',link:function(t){t.$watch(function(){t.$applyAsync(e.pendingRequests.length>0?function(){t.$isLoading=!0}:function(){t.$isLoading=!1})})}}}]),e.directive("itDetail",[function(){return{restrict:"EA",require:"^itMasterDetail",transclude:!0,scope:!1,template:' <div ng-show="($parent.$parent.desktop || ($parent.$parent.activeState == \'detail\' &&$parent.$parent.mobile))"   ng-if="currentItemWrapper.currentItem"  class="it-master-detail-slide-left col-md-{{$masterCol ? (12-$masterCol) : 6}} it-fill" > <div class="it-fill" ng-transclude></div></div><div  ng-show="($parent.$parent.desktop || ($parent.$parent.activeState == \'detail\' &&$parent.$parent.mobile))" class="col-md-{{$masterCol ? (12-$masterCol) : 6}} it-fill" ng-if="!currentItemWrapper.currentItem"><div class="it-watermark" >{{$itNoDetail}}</div></div>'}}]),e.directive("itDetailContent",function(){return{restrict:"EA",require:"^itDetail",transclude:!0,scope:!1,template:'<div class="row it-fill"> <div class="col-md-12  it-fill" ng-transclude></div></div>'}}),e.directive("itDetailHeader",function(){return{restrict:"EA",require:"^itDetail",scope:!1,transclude:!0,template:'<div class="fluid-container"><div class="row it-md-header"><div class="col-md-2 it-fill  col-xs-2"><a href="" ng-if="$parent.$parent.$parent.mobile" ng-click="$parent.$parent.$parent.$parent.goToMaster()" class="it-material-design-hamburger__icon pull-left it-fill "> <span  class="menu-animated it-material-design-hamburger__layer " ng-class="{\'it-material-design-hamburger__icon--to-arrow\':$parent.$parent.$parent.$parent.mobile}"> </span> </a></div><div class="col-md-10 col-xs-10 it-fill "><div class="btn-toolbar  it-fill pull-right " ng-transclude></div></div></div></div>'}}),e.directive("itMaster",function(){return{restrict:"EA",require:"^itMasterDetail",priority:-1,transclude:!0,scope:{itMasterData:"=",itLang:"=",itCol:"=",itMasterDetailControl:"=",itLockOnChange:"=",itNoDataMsg:"@",itNoDetailMsg:"@"},template:'<div  ng-show="($parent.$parent.activeState == \'master\')" class=" it-master it-master-detail-slide-right col-md-{{itCol ? itCol : 6}} it-fill " ui-i18n="{{itLang}}"><div class="row" ng-transclude></div><div class="row it-master-grid it-fill" ><div class="col-md-12 it-master-detail-container it-fill"><div ui-grid="gridOptions" ui-grid-selection ui-grid-resize-columns ui-grid-auto-resize ui-grid-move-columns  ui-grid-auto-resize class="it-master-detail-grid  it-fill"><div class="it-watermark" ng-show="!gridOptions.data.length" >{{itNoDataMsg}}</div></div></div></div></div>',controller:["$scope","$filter","$q","$timeout","itPopup","$templateCache","$route","$window",function(e,t,n,i,r,a,l,o){function s(t){var n=this;angular.forEach(e.itMasterData,function(e,i){angular.equals(e,t)&&(n.index=i)}),n.originalItem=t,n.currentItem=angular.copy(t),n.hasChanged=!1,n.isWatched=!1,n.unlockOnEquals=!0}function c(t){e.itMasterDetailControl.disableMultiSelect||(e.gridApi.selection.getSelectedRows().length>1?e.$parent.currentItemWrapper=null:1===e.gridApi.selection.getSelectedRows().length?(d(e.gridApi.selection.getSelectedRows()[0]),u(e.gridApi.selection.getSelectedRows()[0])):0===e.gridApi.selection.getSelectedRows().length&&(e.$parent.currentItemWrapper=null))}function d(t){var i=n.defer();return null!=e.$parent.currentItemWrapper&&e.$parent.currentItemWrapper.hasChanged&&e.itLockOnChange?(i.reject("undo or save before change"),i.promise):(e.$parent.currentItemWrapper=new s(t),i.resolve(""),i.promise)}function u(t){e.gridApi.core.scrollTo(t)}function p(){e.$applyAsync(function(){null!==e.$parent.currentItemWrapper&&(e.$parent.currentItemWrapper.hasChanged=!1,e.$parent.currentItemWrapper.isWatched=!1)})}function g(t){null!=e.$parent.currentItemWrapper&&e.$parent.currentItemWrapper.hasChanged&&e.itLockOnChange&&(r.alert(e.itMasterDetailControl.navAlert),t.preventDefault())}a.put("ui-grid/selectionRowHeaderButtons",'<div class="it-master-detail-row-select" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ><input type="checkbox" ng-disabled="grid.appScope.$parent.currentItemWrapper.hasChanged && grid.appScope.itLockOnChange " tabindex="-1"  ng-checked="row.isSelected"></div>'),a.put("ui-grid/selectionSelectAllButtons",'<div class="it-master-detail-select-all-header" ng-click="(grid.appScope.$parent.currentItemWrapper.hasChanged && grid.appScope.itLockOnChange  )? \'return false\':headerButtonClick($event)"><input type="checkbox"  ng-change="headerButtonClick($event)" ng-disabled="grid.appScope.$parent.currentItemWrapper.hasChanged  && grid.appScope.itLockOnChange" ng-model="grid.selection.selectAll"></div>'),e.$parent.$masterCol=e.itCol,s.prototype.unlockCurrent=function(){this.hasChanged=!1,this.isWatched=!1},s.prototype.lockCurrent=function(e){this.hasChanged=!0,this.isWatched=!0,this.unlockOnEquals=!e},e.$parent.currentItemWrapper=null,e.$parent.$itNoDetail=e.itNoDetailMsg,e.gridOptions={rowHeight:40,data:e.itMasterData,multiSelect:!e.itMasterDetailControl.disableMultiSelect,enableSelectAll:!e.itMasterDetailControl.disableMultiSelect,enableRowHeaderSelection:!e.itMasterDetailControl.disableMultiSelect,showGridFooter:!0,enableMinHeightCheck:!0,enableColumnResizing:!0,enableHorizontalScrollbar:0,enableVerticalScrollbar:2,onRegisterApi:function(t){e.gridApi=t,t.selection.on.rowSelectionChanged(e,function(e){c(e)}),t.selection.on.rowSelectionChangedBatch(e,function(e){c(e)})},gridFooterTemplate:'<div class="ui-grid-footer-info ui-grid-grid-footer"> <span class="ngLabel badge ">{{"search.totalItems" |t}}  {{grid.appScope.itMasterData.length}}</span> <span ng-show="grid.appScope.filterText.length > 0 && grid.appScope.itMasterData.length != grid.renderContainers.body.visibleRowCache.length" class="ngLabel badge alert-info ">{{"search.showingItems" |t}}  {{grid.renderContainers.body.visibleRowCache.length}}</span> <span ng-show="!grid.appScope.itMasterDetailControl.disableMultiSelect" class="ngLabel badge">{{"search.selectedItems" | t}} {{grid.appScope.gridApi.selection.getSelectedRows().length}}</span></div>',rowTemplate:'<div ng-click="grid.appScope.onRowClick(col,row)" ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.uid" class="ui-grid-cell" ng-class="{ \'ui-grid-row-header-cell\': col.isRowHeader }"  ui-grid-cell></div>'},"undefined"!=typeof e.itMasterDetailControl.columnDefs&&angular.forEach(e.itMasterDetailControl.columnDefs,function(e){e.headerCellTemplate='<div ng-class="{ \'sortable\': sortable }"> <!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --> <div class="ui-grid-cell-contents" col-index="renderIndex" title="TOOLTIP"> <span>{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-visible="col.sort.direction" ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }"> &nbsp; </span> </div> <div class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}"> <i class="fa fa-align-justify"></i> </div> <div ui-grid-filter></div> </div>'},!0),e.gridOptions.columnDefs=e.itMasterDetailControl.columnDefs,e.onRowClick=function(t,n){void 0!=n.entity&&"undefined"!=typeof t.providedHeaderCellTemplate&&d(n.entity).then(function(i){"ui-grid/selectionHeaderCell"!==t.providedHeaderCellTemplate&&(e.gridApi.selection.clearSelectedRows(),e.$parent.$parent.mobile&&e.$parent.$parent.goToDetail()),e.gridApi.selection.toggleRowSelection(n.entity)},function(t){r.alert(e.itMasterDetailControl.navAlert),e.gridApi.selection.selectRow(e.$parent.currentItemWrapper.originalItem)})},e.itMasterDetailControl.selectItem=function(t){e.onRowClick(null,{entity:t})},e.refreshData=function(){var n=t("itUIGridGlobalFilter")(e.gridOptions.data,e.gridOptions,e.filterText);angular.forEach(e.gridApi.grid.rows,function(t){var i=!1;n.forEach(function(e){angular.equals(t.entity,e)&&(i=!0)}),i?e.gridApi.core.clearRowInvisible(t):e.gridApi.core.setRowInvisible(t)})},e.itMasterDetailControl.getCurrentItem=function(){return e.$parent.currentItemWrapper.currentItem},e.itMasterDetailControl.undoChangeCurrentItem=function(){null!=e.$parent.currentItemWrapper&&(d(e.$parent.currentItemWrapper.originalItem),e.$parent.currentItemWrapper.currentItem=angular.copy(e.$parent.currentItemWrapper.originalItem),p())},e.$on("unlockCurrentItem",function(){p()}),e.itMasterDetailControl.scrollToItem=function(e){u(e)},e.itMasterDetailControl.getSelectedItems=function(){return"undefined"!=typeof e.gridApi&&"function"==typeof e.gridApi.selection.getSelectedRows?e.gridApi.selection.getSelectedRows():[]},e.itMasterDetailControl.getCurrentItem=function(){return e.$parent.currentItemWrapper.currentItem},e.itMasterDetailControl.getCurrentItemWrapper=function(){return e.$parent.currentItemWrapper},e.itMasterDetailControl.getFilteredItems=function(){var t=e.gridApi.core.getVisibleRows(e.gridApi.grid),n=[];return angular.forEach(t,function(e){n.push(e.entity)}),n},e.itMasterDetailControl.setCurrentItem=function(t){var r=n.defer();return e.gridApi.selection.clearSelectedRows(),d(t).then(function(){i(function(){var n=e.itMasterData.indexOf(t);n>=0?(e.gridApi.selection.selectRow(t),u(t),e.$parent.$parent.mobile&&e.$parent.$parent.goToDetail(),r.resolve()):r.reject()})},function(){r.reject()}),r.promise},e.itMasterDetailControl.undoChangeCurrentItem=function(){null!=e.$parent.currentItemWrapper&&(d(e.$parent.currentItemWrapper.originalItem),e.$parent.currentItemWrapper.currentItem=angular.copy(e.$parent.currentItemWrapper.originalItem),e.$parent.currentItemWrapper.unlockCurrent())},e.itMasterDetailControl.fillHeight=function(){},e.$on("unlockCurrentItem",function(){i(function(){e.$parent.currentItemWrapper.unlockCurrent()})}),e.$on("lockCurrentItem",function(t){i(function(){e.$parent.currentItemWrapper.lockCurrent(t)})}),e.itAppScope=e.$parent,e.itAppScope.$navAlert=e.itMasterDetailControl.navAlert;var f=angular.element(o);f.bind("resize",function(){e.gridApi.core.handleWindowResize()}),e.itMasterDetailControl.initState=!0,e.$on("$locationChangeStart",g),e.itMasterDetailControl=angular.extend({navAlert:{text:"Please save or revert your pending change",title:"Unsaved changes",buttons:[{text:"OK",type:"btn-info",onTap:function(){return!1}}]}},e.itMasterDetailControl),e.$watch("itLang",function(){e.gridApi.grid.refresh()}),e.$watch("itMasterData",function(){e.gridOptions.data=[],e.itMasterData.forEach(function(t){e.gridOptions.data.push(t)}),"undefined"==typeof e.itMasterData||null===e.itMasterData?e.$parent.currentItemWrapper=null:0===e.itMasterData.length&&(e.$parent.currentItemWrapper=null),e.gridApi.grid.refresh(),null!==e.itMasterDetailControl&&"undefined"!=typeof e.itMasterDetailControl.getCurrentItemWrapper()&&null!=e.itMasterDetailControl.getCurrentItemWrapper()&&e.$applyAsync(function(){u(e.itMasterDetailControl.getCurrentItemWrapper().originalItem)}),e.refreshData()},!0),i(function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),o.dispatchEvent(e)},250),e.$watch("$parent.currentItemWrapper.currentItem",function(t,n){null!=e.$parent.currentItemWrapper&&(e.$parent.currentItemWrapper.isWatched||(e.$parent.currentItemWrapper.isWatched=!0),e.$parent.currentItemWrapper.hasChanged=e.$parent.currentItemWrapper.unlockOnEquals?!angular.equals(t,e.$parent.currentItemWrapper.originalItem):!0)},!0),e.$watch("filterText",function(){e.refreshData()},!0),e.$watch("itNoDetailMsg",function(){e.$parent.$itNoDetail=e.itNoDetailMsg})}]}}).filter("itUIGridGlobalFilter",["$rootScope",function(e){return function(t,n,i){function r(e,t){var n,i=t.split("."),r=e;for(n=0;n<i.length;++n){if(void 0==r[i[n]])return void 0;r=r[i[n]]}return r}var a=[];if(void 0===i||""===i)return t;i=i.toLowerCase();for(var l=e.$new(!0),o=0;o<t.length;o++)for(var s=0;s<n.columnDefs.length;s++){var c=t[o],d=n.columnDefs[s].field,u=r(c,d);if(n.columnDefs[s].cellFilter&&(l.value=u,u=l.$eval("value | "+n.columnDefs[s].cellFilter)),"undefined"!=typeof u&&null!=u&&u.toString().toLowerCase().indexOf(i)>-1){a.push(c);break}}return l.$destroy(),a}}]),e.directive("itMasterDetail",["itPopup","$timeout","$window",function(e,t,n){return{restrict:"EA",transclude:!0,scope:!0,template:'<div it-bottom-glue="" class="it-master-detail-container jumbotron "> <div class="it-fill row " ng-transclude></div></div>',controller:["$scope","screenSize",function(i,r){i.activeState="master",i.desktop=r.on("md, lg",function(e){i.desktop=e}),i.mobile=r.on("xs, sm",function(e){i.mobile=e}),i.goToDetail=function(){i.activeState="detail"},i.$watch("mobile",function(){i.activeState=i.mobile&&"undefined"!=typeof i.$$childHead.currentItemWrapper&&null!=i.$$childHead.currentItemWrapper?"detail":"master"}),i.$watch("$$childHead.currentItemWrapper",function(){!i.mobile||"undefined"!=typeof i.$$childHead.currentItemWrapper&&null!==i.$$childHead.currentItemWrapper?!i.mobile||"undefined"!=typeof i.$$childHead.currentItemWrapper.currentItem&&null!==i.$$childHead.currentItemWrapper.currentItem||(i.activeState="master"):i.activeState="master"}),i.goToMaster=function(){i.mobile&&"undefined"!=typeof i.$$childHead.currentItemWrapper&&null!=i.$$childHead.currentItemWrapper&&i.$$childHead.currentItemWrapper.hasChanged&&i.$$childHead.$$childHead.itLockOnChange?e.alert(i.$$childHead.$navAlert):(i.activeState="master",t(function(){n.dispatchEvent(new Event("resize"))},300))}}]}}]),e.directive("itMasterHeader",function(){return{restrict:"EA",require:"^itMaster",scope:!1,transclude:!0,template:'<div class="fuild-container">   <div class="row it-fill">   <div class="it-md-header col-xs-12 col-md-12"><div class="btn-toolbar it-fill" ng-transclude></div></div><div class="col-xs-12 col-md-12 pull-right"><div><form><div class="form-group has-feedback it-master-header-search-group  col-xs-12 col-md-{{$parent.itCol < 4 ? 12 :6 }} pull-right" ><span class="glyphicon glyphicon-search form-control-feedback"></span><input  class="form-control " type="text" ng-model="$parent.filterText" class="form-control floating-label"  placeholder="{{placeholderText}}"/></div></form></div></div></div></div>',link:function(e,t,n){e.placeholderText=n.itSearchPlaceholder}}}),e.directive("itCheckbox",function(){return{restrict:"A",transclude:!0,replace:!0,link:function(e,t,n){var i=angular.element(t[0]);i.wrap('<div class="checkbox"></div>'),i.wrap("<label></label>"),i.after('<span class="checkbox-material"><span class="check" style="margin-right:16px;width: '+n.width+";height:"+n.height+';"></span></span>&nbsp;'+(n.itLabel||""))}}}),e.directive("itInput",function(){return{restrict:"A",replace:!0,require:"?ngModel",link:function(e,t,n,i){if(i){var r=angular.element(t[0]);if(r.hasClass("floating-label")){r.wrap('<div class="form-control-wrapper"></div>');var a=r.attr("placeholder");a?r.after('<div class="floating-label">'+a+"</div"):(r.after('<div class="floating-label">'+e.itLabel+"</div"),e.$watch("itLabel",function(t){e.$applyAsync(function(){if(r[0].offsetParent){var e=r[0].offsetParent.children;angular.forEach(e,function(e){var n=angular.element(e);n.hasClass("floating-label")&&n.text(t)})}})})),r.after('<span class="material-input"></span>'),r.attr("placeholder","").removeClass("floating-label")}r.after('<small class="text-danger" style="display:none;"></small>'),e.$watch("itError",function(e){if(r[0].offsetParent){var t=r[0].offsetParent.children;angular.forEach(t,function(t){var n=angular.element(t);n.hasClass("text-danger")&&(n.text(e),""!=e&&void 0!=e?(n.removeClass("ng-hide"),n.addClass("ng-show"),n.css("display","block")):(n.removeClass("ng-show"),n.addClass("ng-hide"),n.css("display","none")))})}}),(null===r.val()||"undefined"==r.val()||""===r.val())&&r.addClass("empty"),e.$watch(function(){return i.$modelValue},function(e,t){null===e||void 0==e||""===e?r.addClass("empty"):r.removeClass("empty")}),r.on("key change",function(){null===r.val()||"undefined"==r.val()||""===r.val()?r.addClass("empty"):r.removeClass("empty")})}},scope:{itError:"=",itLabel:"@"}}}),e.directive("itSearch",function(){return{restrict:"A",replace:!0,scope:{itSearchControl:"="},link:function(e,t,n){var i=angular.element(t[0]);i.after('<span class="glyphicon glyphicon-search form-control-feedback"/>')},controller:["$scope",function(e){e.itSearchControl.multicolumnsFilter=function(t){var n=new RegExp(e.itSearchControl.filterText,"i"),i=[],r=!1;return e.itSearchControl.columnDefs&&t.forEach(function(t){var a=!1;t.entity?(e.itSearchControl.columnDefs.forEach(function(i){if(!a&&t.entity[i.field]){var r=t.entity[i.field].toString();i.cellFilter&&(e.value=r,r=e.$eval("value | "+i.cellFilter)),"undefined"!=typeof r&&null!=r&&r.match(n)&&(a=!0)}}),a||(t.visible=!1)):(r=!0,e.itSearchControl.columnDefs.forEach(function(e){!a&&t[e.field]&&t[e.field].toString().match(n)&&(a=!0)}),a&&i.push(t))}),r&&(t=i),t}}]}}),e.directive("itToggle",["$compile",function(e){return{restrict:"A",transclude:!0,link:function(e,t,n){var i=angular.element(t[0]);i.wrap('<div class="togglebutton"></div>'),void 0==e.itLabel?(i.wrap("<label></label>"),i.after('<span class="toggle"></span>')):(i.wrap("<label></label>"),i.after('<span class="toggle"></span><span>'+(e.itLabel||"")+"</span>"),e.$watch("itLabel",function(e){if(e&&i.context){var t=angular.element(i.context.parentNode);if(t&&n.itLabel){var r=angular.element(t.get(0).firstChild);r.get(0).textContent=e+"  "}}}))},scope:{itLabel:"@"}}}]),e.directive("itPrettyprint",["$rootScope","$sanitize",function(e,t){return{restrict:"EA",terminal:!0,compile:function(e,t){return t["class"]?t["class"]&&-1==t["class"].split(" ").indexOf("prettyprint")&&t.$set("class",t["class"]+" prettyprint"):t.$set("class","prettyprint"),function(e,t,n){function i(e){return String(e).replace(/[&<>"'\/]/g,function(e){return r[e]})}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};t[0].innerHTML=prettyPrintOne(i(t[0].innerHTML))}}}}]),e.directive("itBottomGlue",["$window","$timeout",function(e,t){return function(n,i){function r(){for(var t=i[0],n=angular.element(i)[0],r=0,a=0,l=0,o=0;null!==t&&"undefined"!=typeof t;){var s=e.getComputedStyle(t),c=parseInt(s["margin-bottom"],10),d=parseInt(s["padding-bottom"],10),u=parseInt(s["padding-top"],10),p=parseInt(s["margin-top"],10);o+=isNaN(p)?0:p,r+=isNaN(c)?0:c,a+=isNaN(d)?0:d,l+=isNaN(u)?0:u,t=t.parentElement}var g=e.getComputedStyle(i[0]),f=parseInt(g["padding-bottom"],10),m=n.getBoundingClientRect();i.css("height",e.innerHeight-m.top-r-(a-f)+"px"),i.css("overflow-y","auto")}t(function(){r(),e.addEventListener("resize",function(){r()})},250)}}]),e.directive("itCollapsedItem",function(){return{restrict:"A",link:function(e,t,n){var i=angular.element(t[0].querySelector("ul")),r=angular.element(t[0].querySelector("a"));i.addClass("it-side-menu-collapse"),t.addClass("it-sub-menu");var a=angular.element(t[0].querySelector("h5")),l=angular.element('<i class="pull-right fa fa-angle-right" ></i>');a.append(l),r.on("click",function(){i.hasClass("it-side-menu-collapse")?(i.removeClass("it-side-menu-collapse"),i.addClass("it-side-menu-expanded"),l.removeClass("fa-angle-right"),l.addClass("fa-angle-down"),t.addClass("toggled")):(t.removeClass("toggled"),l.addClass("fa-angle-right"),l.removeClass("fa-angle-down"),i.removeClass("it-side-menu-expanded"),i.addClass("it-side-menu-collapse"))})}}}),e.directive("itNavActive",["$location",function(e){return{restrict:"A",scope:!1,link:function(t,n,i){function r(){var t=e.path();t&&angular.forEach(n.find("li"),function(e){var n=e.querySelector("a");n.href.match("#"+t+"(?=\\?|$)")?angular.element(e).addClass(a):angular.element(e).removeClass(a)})}var a=i.itActive||"active";r(),t.$on("$locationChangeSuccess",r)}}}]),e.directive("itSideMenu",function(){return{restrict:"E",require:"^itSideMenus",transclude:!0,scope:!0,template:'<div class="it-side-menu it-side-menu-left it-side-menu-hide it-menu-animated" ng-class="{\'it-side-menu-hide\':!showmenu,\'it-side-menu-slide\':showmenu}"><div class="it-sidebar-inner"><div class="nav navbar navbar-inverse"><nav class="" ng-transclude ></nav></div></div></div>'}}),e.directive("itSideMenuContent",function(){return{restrict:"ECA",require:"^itSideMenus",transclude:!0,scope:!0,template:'<div class="it-menu-content" ng-class="{\'it-side-menu-overlay\':showmenu}"><div class="it-container it-fill" ng-transclude></div></div>'}}),e.controller("$sideMenuCtrl",["$scope","$document","$timeout","$window",function(e,t,n,i){var r=this;r.scope=e,r.scope.showmenu=!1,r.toggleMenu=function(){r.scope.showmenu=r.scope.showmenu?!1:!0,n(function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),i.dispatchEvent(e)},300)},r.hideSideMenu=function(){r.scope.showmenu=!1}}]),e.directive("itSideMenuHeader",["$rootScope",function(e){return{restrict:"E",require:"^itSideMenus",transclude:!0,scope:!0,link:function(t,n,i,r){{var a=angular.element(n[0].querySelector(".it-material-design-hamburger__layer"));angular.element(n[0].querySelector(".it-material-design-hamburger__icon"))}t.toggleMenu=r.toggleMenu,"true"===i.itAnimate&&t.$watch("showmenu",function(t,n){t!=n&&(t?(a.removeClass("it-material-design-hamburger__icon--from-arrow"),a.addClass("it-material-design-hamburger__icon--to-arrow"),e.$broadcast("it-sidemenu-state","closed")):(a.removeClass("it-material-design-hamburger__icon--to-arrow"),a.addClass("it-material-design-hamburger__icon--from-arrow"),e.$broadcast("it-sidemenu-state","opened")))},!0),i.itHideButtonMenu&&(t.itHideButtonMenu=t.$eval(i.itHideButtonMenu)),t.$watch(i.itHideButtonMenu,function(e,n){t.itHideButtonMenu=e,e&&r.hideSideMenu()})},template:'<nav id="header" class="it-side-menu-header nav navbar navbar-fixed-top navbar-inverse"><section class="it-material-design-hamburger" ng-hide="itHideButtonMenu"><button  ng-click="toggleMenu()" class="it-material-design-hamburger__icon"><span class="it-menu-animated it-material-design-hamburger__layer"> </span></button> </section><div class="container-fluid" ng-transclude></div></nav>'}}]),e.directive("itSideMenus",function(){return{restrict:"ECA",transclude:!0,controller:"$sideMenuCtrl",template:'<div class="it-side-menu-group" ng-transclude></div>'}}),e.directive("itSidePanel",["FilterViewService",function(e){function t(t){t.filterViewService=e}return{scope:{changeHandler:"&clear"},link:t,restrict:"AE",transclude:!0,template:'<div class="side-panel panel-filters animate-show" ng-class="{\'side-panel-show\': filterViewService.getShowFilter() && filterViewService.needFilters}"> </div> <div class="side-panel-top panel-filters vertical-text animate-show" ng-class="{\'side-panel-right\':filterViewService.getShowFilter() && filterViewService.needFilters,\'side-panel-right-collapse\':!filterViewService.getShowFilter() && filterViewService.needFilters}" ng-click="filterViewService.setShowFilter()"> <span class="fa fa-search"></span> </div> <div class="side-panel-top panel-refresh animate-show" ng-class="{\'side-panel-right-collapse\': filterViewService.needRefresh}" ng-click="filterViewService.setRefresh(!filterViewService.isRefreshAutoActive)"> <span class="fa-stack"> <i class="fa fa-refresh fa-stack-1x" ng-class="{\'fa-spin\':filterViewService.filterOptions.autoRefresh && filterViewService.isRefreshAutoActive,\'\':!filterViewService.isRefreshAutoActive || !filterViewService.filterOptions.autoRefresh }"> </i> <i class="fa fa-ban fa-stack-2x text-danger" ng-show="!filterViewService.filterOptions.autoRefresh"> </i> </span> </div>'}}]),e.directive("itFillHeight",["$window","$document",function(e,t){return{restrict:"A",scope:{footerElementId:"@",additionalPadding:"@"},link:function(n,i,r){function a(){var r,a=angular.element(t[0].getElementById(n.footerElementId));r=1===a.length?a[0].offsetHeight+l(a)+o(a):0;var s=i[0].offsetTop,c=o(i),d=n.additionalPadding||0,u=e.innerHeight-s-c-r-d;i.css("height",u+"px")}function l(e){var t=s(e,"margin-top"),n=s(e,"border-top-width");return t+n}function o(e){var t=s(e,"margin-bottom"),n=s(e,"border-bottom-width");return t+n}function s(e,t){return parseInt(e.css(t),10)||0}angular.element(e).on("resize",a),a()}}}]),e.directive("itViewMasterHeader",function(){return{restrict:"E",transclude:!0,scope:!0,template:'<div class="row"><div class="col-md-6"><div class="btn-toolbar" ng-transclude></div></div><div class="col-md-6 pull-right"><div><form><div class="form-group has-feedback"><span class="glyphicon glyphicon-search form-control-feedback"></span><input it-input class="form-control" type="text" placeholder="Rechercher"/></div></form></div></div></div>'}}),e.directive("itViewPanel",function(){return{restrict:"E",transclude:!0,scope:!0,template:'<div class="jumbotron" ng-transclude></div>'}}),e.directive("itViewTitle",function(){return{restrict:"E",transclude:!0,scope:!0,template:'<div class="row"><div class="col-xs-12"><h3 ng-transclude></h3><hr></div></div>'}}),e.filter("itUnicode",["$sce",function(e){return function(t){function n(e){for(var t="",n=0;n<e.length;n++){for(var i=e.charCodeAt(n).toString(16).toUpperCase();i.length<4;)i="0"+i;i="&#x"+i+";",t+=i}return t}return e.trustAsHtml(n(t))}}]),e.factory("itPopup",["$uibModal","$uibModalStack","$rootScope","$q","$compile",function(e,t,n,i,r){function a(e){function t(){return!1}var r={};return r.scope=(e.scope||n).$new(),r.responseDeferred=i.defer(),r.scope.$buttonTapped=function(e,t){var n=(t.onTap||noop)(e);r.responseDeferred.resolve(n)},e=angular.extend({scope:r.scope,template:u,controller:["$scope","$modalInstance",function(e,n){function i(){n.close(e.data)}function a(){n.dismiss("cancel")}e.itButtonAction=function(n,l){var o=(l.onTap||t)(n,e),s=o;n.isDefaultPrevented()||r.responseDeferred.resolve(s?i():a())}}],buttons:[]},e||{}),e.scope.options=e,r.options=e,r}function l(n){t.dismissAll();var i=a(n);return e.open(i.options).result}function o(e){return t.dismissAll(),l(angular.extend({buttons:[{text:e.okText||"OK",type:e.okType||"btn-info",onTap:function(){return!0}}]},e||{}))}function s(e){return t.dismissAll(),l(angular.extend({buttons:[{text:e.okText||"OK",type:e.okType||"btn-info",onTap:function(){return!0}},{text:e.cancelText||"Cancel",type:e.cancelType||"",onTap:function(){return!1}}]},e||{}))}function c(e){return t.dismissAll(),l(e)}function d(e){t.dismissAll();var i=n.$new(!0);i.data={};var r="";return e.template&&/<[a-z][\s\S]*>/i.test(e.template)===!1&&(r="<span>"+e.template+"</span>",delete e.template),l(angular.extend({template:p,inputLabel:e.inputLabel||"",buttons:[{text:e.okText||"OK",type:e.okType||"btn-info",onTap:function(){return!0}},{text:e.cancelText||"Cancel",type:e.cancelType||"",onTap:function(){}}]},e||{}))}var u='<div class="modal-header it-view-header"><h3 it-compile="options.title"></h3></div><div class="modal-body"><p it-compile="options.text"></p></div><div class="modal-footer"><button ng-repeat="button in options.buttons" class="btn btn-raised {{button.type}}" ng-click="itButtonAction($event,button)" it-compile="button.text"></button></div>',p='<div class="modal-header it-view-header"><h3 it-compile="options.title"></h3></div></div><div class="modal-body"><p it-compile="options.text"></p>   <div class="form-group"><div class="form-control-wrapper"><input type="{{options.inputType}}" class="form-control" ng-model="data.response"  placeholder="{{options.inputPlaceholder}}"></div></div></div><div class="modal-footer"><button ng-repeat="button in options.buttons" class="btn btn-raised {{button.type}}" ng-click="itButtonAction($event,button)" it-compile="button.text"></button></div>',g={alert:o,confirm:s,prompt:d,custom:c};return g}])}();